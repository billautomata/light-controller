{"version":3,"sources":["js/constants/action-types.js","js/store/reducers/index.js","js/store/index.js","js/actions/index.js","js/components/CurrentPattern/ActiveStep.js","js/components/CurrentPattern/Channels.js","js/components/subcomponents/Transport.js","js/components/CurrentPattern/PatternName.js","js/components/CurrentPattern/Time.js","js/components/subcomponents/Load.js","js/components/Config/ConfigSectionTitle.js","js/components/CurrentPattern/CurrentPatternBase.js","js/components/SongMode/SongName.js","js/components/subcomponents/Visualized.js","js/components/SongMode/SongModeBase.js","js/components/PlaylistMode/PlaylistName.js","js/components/PlaylistMode/PlaylistModeBase.js","js/components/Layout/LayoutBase.js","js/components/Config/ConfigBoot.js","js/components/Config/ConfigFileIO.js","js/lib/saveStateToFile.js","js/lib/validateConfigurationFile.js","js/components/Config/ConfigOutboarding.js","js/components/Config/ConfigPins.js","js/components/Config/ConfigBase.js","js/components/App.js","js/components/createTheme.js","App.js","reportWebVitals.js","index.js"],"names":["COPY_PATTERN","CREATE_PATTERN","DELETE_PATTERN","DELETE_SONG","INITIALIZE_DATA","LOAD_PATTERN","PATTERN_CLEAR","PLAYLIST_ADD_STEP","PLAYLIST_CHANGE_STEP_ORDER","PLAYLIST_COPY_STEP","PLAYLIST_DELETE_STEP","PLAYLIST_SET_VALUE","SAVE_EDITS","SAVE_PATTERN","SAVE_SONG","SAVE_PLAYLIST","SET_BOOT_PLAYLIST","SET_CONFIG","SET_CURRENT_STEP","SET_EDIT_MODE","SET_NETWORK_DEVICE_PORT_MAPPING","SET_NETWORK_DEVICE_STATS","SET_NUMBER_OF_STEPS","SET_PATTERN_NAME","SET_PATTERNS","SET_PLAYLISTS","SET_START_ON_BOOT","SET_STEP","SET_STEP_TIME","SET_STEP_VALUE","SET_SONGS","SET_TIME_VALUE","SET_TIME_VALUE_TEMPORARY","SONG_ADD_STEP","SONG_CHANGE_STEP_ORDER","SONG_COPY_STEP","SONG_DELETE_STEP","SONG_SET_VALUE","START_SEQUENCER","STOP_SEQUENCER","TEST_NETWORK_DEVICE","MAP_PIN_TO_CHANNEL","initialState","config","currentStep","dataLoaded","uiState","editModePattern","editModeSong","nSteps","name","nameSong","confirmedTimeSteps","sectionPatternCollapsed","sectionPlaylistCollapsed","sectionSongCollapsed","patterns","pins","songs","playlists","rootReducer","state","action","type","console","log","payload","Object","assign","value","editModePlaylist","activePattern","patternLength","activeSong","channels","steps","map","o","idx","window","socket","emit","paylaod","mode","namePlaylist","networkDevices","currentStepTime","filter","step","push","store","createStore","saveEdits","setEditMode","setPatternName","connect","ownProps","playingMode","dispatch","setCurrentStep","boxSize","Grid","container","item","xs","alignItems","justifyContent","style","marginTop","marginBottom","viewBox","backgroundColor","width","height","margin","Array","fill","index","transform","onClick","x","y","rx","ry","stroke","pattern","setStepValue","boxHeight","Math","min","svgRef","useRef","d3","on","event","handler","current","registerSvgRefDrag","slice","length","channel","channelIdx","outline","align","Typography","variant","fontWeight","fontSize","position","top","ref","n","undefined","cursor","isPlaying","startSequencer","stopSequencer","props","spacing","color","className","borderBottom","border","points","activePatternIdx","findIndex","id","activePatternId","numberOfChannels","numberOfSteps","patternName","editMode","showSave","JSON","stringify","patternClear","savePattern","setNumberOfSteps","TextField","defaultValue","size","onChange","target","label","onKeyPress","key","Button","marginRight","timePattern","setTimeValue","setTimeValueTemporary","borderTopLeftRadius","fontStyle","valueForStep","confirmed","Number","textAlign","onKeyDown","random","activeSongId","activePlaylistId","copyPattern","createPattern","deletePattern","loadPattern","useState","patternsHalfwayToDeletion","setPatternsHalfway","borderLeft","paddingTop","paddingBottom","maxHeight","overflow","overflowY","patternIdx","sm","indexOf","whiteSpace","stopPropagation","p","minWidth","padding","borderRadius","left","letterSpacing","title","paddingRight","activeSongIdx","saveSong","display","songPattern","playlistData","songData","doIndicator","colors","sum","d","msLength","scaleX_ms","domain","range","scaleX_percent","listOfPatterns","forEach","sort","opacity","i","w","x1","y1","x2","y2","strokeWidth","song","songAddStep","songChangeStepOrder","songCopyStep","songDeleteStep","songSetValue","indexesEditActive","setEditActive","SongName","md","textTransform","lg","paddingLeft","marginLeft","stepNameMatches","selected","repeat","speed","optionIdx","direction","newIndexes","strokeLinecap","activePlaylistIdx","activePlaylist","savePlaylist","playlist","playlistAddStep","playlistChangeStepOrder","playlistCopyStep","playlistDeleteStep","playlistSetValue","getLightValues","c","a","trees","scaleX","lightValues","tree","treeIndex","active","cx","cy","r","styles","bootPlaylistId","bootBehavior","startOnBoot","setBootPlaylist","setStartOnBoot","Paper","elevation","playlistIdx","b","Blob","saveAs","saveStateToFile","disabled","accept","hidden","files","reader","FileReader","onload","result","t","parse","error","validated","field","split","right","validateConfigurationFile","readAsText","htmlFor","component","KeyValuePair","devices","setNetworkDevicePortMapping","testNetworkDevice","status","editActive","device","mac","toUpperCase","Date","now","lastSeen","toFixed","justify","mappings","ch","inputProps","maxWidth","sectionStyle","App","initializeData","setConfig","setNetworkDeviceStats","setPatterns","setPlaylists","setSongs","setStep","setStepTime","io","onAny","setInterval","ThemeProvider","theme","materialTheme","palette","primary","main","secondary","green","typography","body1","body2","h4","h6","overrides","MuiButton","root","boxShadow","MuiButtonBase","disableRipple","disableElevation","square","zIndex","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f864e1d.chunk.js","sourcesContent":["export const COPY_PATTERN = 'COPY_PATTERN'\nexport const CREATE_PATTERN = 'CREATE_PATTERN'\nexport const DELETE_PATTERN = 'DELETE_PATTERN'\nexport const DELETE_SONG = 'DELETE_SONG'\nexport const INITIALIZE_DATA = 'INITIALIZE_DATA'\nexport const LOAD_PATTERN = 'LOAD_PATTERN'\nexport const PATTERN_CLEAR = 'PATTERN_CLEAR'\nexport const PLAYLIST_ADD_STEP = 'PLAYLIST_ADD_STEP'\nexport const PLAYLIST_CHANGE_STEP_ORDER = 'PLAYLIST_CHANGE_STEP_ORDER'\nexport const PLAYLIST_COPY_STEP = 'PLAYLIST_COPY_STEP'\nexport const PLAYLIST_DELETE_STEP = 'PLAYLIST_DELETE_STEP'\nexport const PLAYLIST_SET_VALUE = 'PLAYLIST_SET_VALUE'\nexport const SAVE_EDITS = 'SAVE_EDITS'\nexport const SAVE_PATTERN = 'SAVE_PATTERN'\nexport const SAVE_SONG = 'SAVE_SONG'\nexport const SAVE_PLAYLIST = 'SAVE_PLAYLIST'\nexport const SET_BOOT_PLAYLIST = 'SET_BOOT_PLAYLIST'\nexport const SET_CONFIG = 'SET_CONFIG'\nexport const SET_CURRENT_STEP = 'SET_CURRENT_STEP'\nexport const SET_EDIT_MODE = 'SET_EDIT_MODE'\nexport const SET_NETWORK_DEVICE_PORT_MAPPING = 'SET_NETWORK_DEVICE_PORT_MAPPING'\nexport const SET_NETWORK_DEVICE_STATS = 'SET_NETWORK_DEVICE_STATS'\nexport const SET_NUMBER_OF_STEPS = 'SET_NUMBER_OF_STEPS'\nexport const SET_PATTERN_NAME = 'SET_PATTERN_NAME'\nexport const SET_PATTERNS = 'SET_PATTERNS'\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS'\nexport const SET_START_ON_BOOT = 'SET_START_ON_BOOT'\nexport const SET_STEP = 'SET_STEP'\nexport const SET_STEP_TIME = 'SET_STEP_TIME'\nexport const SET_STEP_VALUE = 'SET_STEP_VALUE'\nexport const SET_SONG = 'SET_SONG'\nexport const SET_SONGS = 'SET_SONGS'\nexport const SET_TIME_VALUE = 'SET_TIME_VALUE'\nexport const SET_TIME_VALUE_TEMPORARY = 'SET_TIME_VALUE_TEMPORARY'\nexport const SONG_ADD_STEP = 'SONG_ADD_STEP'\nexport const SONG_CHANGE_STEP_ORDER = 'SONG_CHANGE_STEP_ORDER'\nexport const SONG_COPY_STEP = 'SONG_COPY_STEP'\nexport const SONG_DELETE_STEP = 'SONG_DELETE_STEP'\nexport const SONG_SET_VALUE = 'SONG_SET_VALUE'\nexport const START_SEQUENCER = 'START_SEQUENCER'\nexport const STOP_SEQUENCER = 'STOP_SEQUENCER'\nexport const TEST_NETWORK_DEVICE = 'TEST_NETWORK_DEVICE'\nexport const MAP_PIN_TO_CHANNEL = 'MAP_PIN_TO_CHANNEL'","import {\n  CREATE_PATTERN,\n  COPY_PATTERN,\n  DELETE_PATTERN,\n  DELETE_SONG,\n  INITIALIZE_DATA,\n  LOAD_PATTERN,\n  MAP_PIN_TO_CHANNEL,\n  PATTERN_CLEAR,\n  PLAYLIST_ADD_STEP,\n  PLAYLIST_CHANGE_STEP_ORDER,\n  PLAYLIST_COPY_STEP,\n  PLAYLIST_DELETE_STEP,\n  PLAYLIST_SET_VALUE,\n  SAVE_EDITS,\n  SAVE_PATTERN,\n  SAVE_PLAYLIST,\n  SAVE_SONG,\n  SET_BOOT_PLAYLIST,\n  SET_CONFIG,\n  SET_CURRENT_STEP,\n  SET_EDIT_MODE,\n  SET_NETWORK_DEVICE_PORT_MAPPING,\n  SET_NETWORK_DEVICE_STATS,  \n  SET_NUMBER_OF_STEPS,\n  SET_PATTERNS,\n  SET_PATTERN_NAME,\n  SET_PLAYLISTS,\n  SET_START_ON_BOOT,\n  SET_SONGS,\n  SET_STEP,\n  SET_STEP_TIME,\n  SET_STEP_VALUE,\n  SET_TIME_VALUE,\n  SET_TIME_VALUE_TEMPORARY,\n  SONG_ADD_STEP,\n  SONG_CHANGE_STEP_ORDER,\n  SONG_COPY_STEP,\n  SONG_DELETE_STEP,\n  SONG_SET_VALUE,\n  START_SEQUENCER,\n  STOP_SEQUENCER,\n  TEST_NETWORK_DEVICE\n} from '../../constants/action-types'\n\nconst initialState = {  \n  config: {},\n  currentStep: 10,\n  dataLoaded: false,\n  uiState: {\n    editModePattern: null,\n    editModeSong: null,\n    nSteps: -1,\n    name: '',\n    nameSong: '',\n    confirmedTimeSteps: [],\n    sectionPatternCollapsed: false,\n    sectionPlaylistCollapsed: false,\n    sectionSongCollapsed: false,    \n  },\n  patterns: [],\n  pins: [],\n  songs: [],\n  playlists: []\n}\n\nfunction rootReducer(state = initialState, action) {\n  // console.log('action', action)\n  switch(action.type) {\n    case INITIALIZE_DATA: \n      console.log('REDUCER - '+INITIALIZE_DATA, action.payload)\n      return Object.assign({}, state, \n        { \n          config: action.payload.value.config,\n          patterns: action.payload.value.patterns,\n          songs: action.payload.value.songs,\n          pins: action.payload.value.pins,\n          playlists: action.payload.value.playlists,\n          dataLoaded: true,\n          uiState: {\n            editModePattern: false,\n            editModeSong: false,\n            editModePlaylist: false,\n            nSteps: action.payload.value.config.activePattern.patternLength,\n            name: action.payload.value.config.activePattern.name,\n            nameSong: action.payload.value.config.activeSong.name,\n            confirmedTimeSteps: action.payload.value.config.activePattern.channels[0].steps.map(o=>{return { idx: o.idx }}),\n            sectionPatternCollapsed: true,\n            sectionPlaylistCollapsed: false,\n            sectionSongCollapsed: false,\n        }\n      })    \n    case CREATE_PATTERN:\n      console.log('REDUCER - '+CREATE_PATTERN)\n      window.socket.emit('PATTERN_CREATE', action.payload)\n      return state\n    case DELETE_PATTERN:\n      console.log('REDUCER - ' + DELETE_PATTERN)\n      window.socket.emit('PATTERN_DELETE', action.payload)\n      return state\n    case DELETE_SONG:\n      console.log('REDUCER - ' + DELETE_SONG)\n      window.socket.emit('SONG_DELETE', action.payload)\n      return state\n    case LOAD_PATTERN:\n      console.log('REDUCER - '+LOAD_PATTERN, action.payload)\n      window.socket.emit('CONFIG_LOAD_PATTERN', action.payload)\n      return state\n    case MAP_PIN_TO_CHANNEL:\n      \n      return state\n    case PATTERN_CLEAR:\n      console.log('REDUCER = '+PATTERN_CLEAR)\n      window.socket.emit('PATTERN_CLEAR', action.payload)\n      return state\n    case PLAYLIST_ADD_STEP:\n      window.socket.emit('PLAYLIST_ADD_STEP', {})\n      return state\n    case PLAYLIST_CHANGE_STEP_ORDER:\n      console.log('REDUCER - '+PLAYLIST_CHANGE_STEP_ORDER, action.payload)\n      window.socket.emit('PLAYLIST_CHANGE_STEP_ORDER', action.payload)\n      return state\n    case PLAYLIST_COPY_STEP:\n      console.log('REDUCER - '+PLAYLIST_COPY_STEP, action.payload)\n      window.socket.emit('PLAYLIST_COPY_STEP', action.payload)\n      return state\n    case PLAYLIST_SET_VALUE:\n      console.log('REDUCER - '+PLAYLIST_SET_VALUE, action.paylaod)\n      window.socket.emit('PLAYLIST_SET_VALUE', action.payload)\n      return state\n    case SAVE_EDITS:\n      console.log('REDUCER - '+SAVE_EDITS, action.payload)\n      switch (action.payload.mode) {\n        case 'pattern':\n          window.socket.emit('PATTERN_SET_STEPS', { value: state.uiState.nSteps })\n          window.socket.emit('PATTERN_SET_NAME', { value: state.uiState.name })\n          break;\n        case 'song':\n          window.socket.emit('SONG_SET_NAME', { value: state.uiState.nameSong })\n          break;\n        case 'playlist':\n          window.socket.emit('PLAYLIST_SET_NAME', { value: state.uiState.namePlaylist })\n          break;\n        default: \n          break;\n      }\n      return state\n    case PLAYLIST_DELETE_STEP:\n      console.log('REDUCER - '+PLAYLIST_DELETE_STEP, action.payload)\n      window.socket.emit('PLAYLIST_DELETE_STEP', action.payload)\n      return state\n    case SAVE_PATTERN:\n      console.log('REDUCER - '+SAVE_PATTERN, action.payload)\n      console.log('emitting a save pattern')\n      window.socket.emit('PATTERN_SAVE', { value: true })\n      return state\n    case SAVE_PLAYLIST:\n      console.log('REDUCER - '+SAVE_PLAYLIST, action.payload)\n      console.log('emitting a save playlist')\n      window.socket.emit('PLAYLIST_SAVE', { value: true })\n      return state      \n    case SAVE_SONG:\n      console.log('REDUCER - '+SAVE_SONG, action.payload)\n      console.log('emitting a save song')\n      window.socket.emit('SONG_SAVE', { value: true })\n      return state\n    case SET_BOOT_PLAYLIST:\n      window.socket.emit('SET_BOOT_PLAYLIST', action.payload)\n      return state      \n    case SET_CONFIG: \n      console.log('setting config in state', action.payload)\n      state.uiState = Object.assign(\n        {}, \n        state.uiState, \n        { \n          name: action.payload.value.activePattern.name ,\n          nSteps: action.payload.value.activePattern.patternLength,\n          confirmedTimeSteps: action.payload.value.activePattern.channels[0].steps.map(o=>{ return { idx: o.idx }})\n        }\n      )\n      state.config = Object.assign(\n        {},\n        action.payload.value,\n        action.payload.value\n        // {\n        //   activeSong: Object.assign({}, action.payload.value.activeSong, { songSteps: action.payload.value.activeSong.songSteps })\n        // }\n      )\n      console.log(action.payload.value)\n      return Object.assign({}, state, { config: state.config, uiState: state.uiState })    \n      // return Object.assign({}, state, { config: action.payload.value, uiState: state.uiState })    \n    case COPY_PATTERN:\n      window.socket.emit('PATTERN_COPY', action.payload)\n      return state\n    case SET_CURRENT_STEP:\n      console.log('setting current step', action.payload)\n      window.socket.emit('SET_CURRENT_STEP', action.payload)      \n      return state  \n    case SET_EDIT_MODE:\n      console.log('setting edit mode')\n      switch (action.payload.mode) {\n        case 'pattern': \n          return Object.assign({}, state, { uiState: Object.assign({}, state.uiState, { editModePattern: action.payload.value }) })\n        case 'song': \n          return Object.assign({}, state, { uiState: Object.assign({}, state.uiState, { editModeSong: action.payload.value }) })\n        case 'playlist':\n          return Object.assign({}, state, { uiState: Object.assign({}, state.uiState, { editModePlaylist: action.payload.value }) })\n        default:\n          break;\n      }\n      const uiState = Object.assign({}, state.uiState, { editModePattern: action.payload.value })\n      return Object.assign({}, state, { uiState })\n    case SET_NETWORK_DEVICE_PORT_MAPPING:\n      console.log('REDUCER - '+SET_NETWORK_DEVICE_PORT_MAPPING, action.payload)\n      window.socket.emit('SET_NETWORK_DEVICE_PORT_MAPPING', action.payload)\n      return state\n    case SET_NETWORK_DEVICE_STATS:\n      // console.log('REDUCER - '+SET_NETWORK_DEVICE_STATS)\n      state.config.networkDevices = Object.assign([], state.config.networkDevices, action.payload.value)\n      state.config = Object.assign({}, state.config, state.config)\n      return Object.assign({}, state, { config: state.config })\n    case SET_NUMBER_OF_STEPS: \n      console.log('setting number of steps', action.payload)\n      // window.socket.emit('PATTERN_SET_STEPS', action.payload)      \n      state.uiState.nSteps = action.payload.value\n      return Object.assign({}, state, { uiState: state.uiState })\n    case SET_PATTERN_NAME:\n      console.log('REDUCER - '+SET_PATTERN_NAME)\n      switch (action.payload.mode) {\n        case 'pattern':\n          state.uiState.name = action.payload.value\n          return Object.assign({}, state, { uiState: state.uiState })\n        case 'song':\n          state.uiState.nameSong = action.payload.value\n          return Object.assign({}, state, { uiState: state.uiState })    \n        case 'playlist':\n          state.uiState.namePlaylist = action.payload.value\n          return Object.assign({}, state, { uiState: state.uiState })    \n        default:\n          return state\n      }\n    case SET_PATTERNS:\n      console.log('REDUCER - '+SET_PATTERNS, action.payload)\n      state.patterns = Object.assign([], [], action.payload.value )\n      console.log('patterns', state.patterns)\n      return Object.assign({}, state, { patterns: state.patterns })\n    case SET_PLAYLISTS:\n      console.log('REDUCER - '+SET_PLAYLISTS, action.payload)\n      return Object.assign({}, state, { playlists: action.payload.value })  \n    case SET_START_ON_BOOT:\n      window.socket.emit('SET_START_ON_BOOT', action.payload)\n      return state\n    case SET_SONGS:\n      console.log('REDUCER - '+SET_SONGS, action.payload)\n      return Object.assign({}, state, { songs: action.payload.value })\n    case SET_STEP:\n      console.log('REDUCER - '+SET_STEP, action.payload)\n      return Object.assign({}, state, { currentStep: action.payload.value })\n    case SET_STEP_TIME:\n      console.log('REDUCER - '+SET_STEP_TIME, action.payload)\n      return Object.assign({}, state, { currentStepTime: action.payload.value })\n    case SET_STEP_VALUE: \n      console.log('REDUCER - '+SET_STEP_VALUE, action.payload)\n      window.socket.emit('PATTERN_SET_VALUE_STEP', action.payload )\n      return state\n    case SET_TIME_VALUE_TEMPORARY:\n      console.log('REDUCER - '+SET_TIME_VALUE_TEMPORARY, action.payload)\n      // remove the payload from the confirmedTimeSteps\n      state.uiState.confirmedTimeSteps = state.uiState.confirmedTimeSteps.filter(o=>o.idx !== action.payload.step)\n      state.uiState = Object.assign({}, state.uiState, { uiState: state.uiState })      \n      return Object.assign({}, state, state)\n    case SET_TIME_VALUE:\n      if (action.payload.value === 0) {\n        state.uiState.confirmedTimeSteps = state.uiState.confirmedTimeSteps.filter(o=>o.idx !== action.payload.step)  \n      } else {\n        state.uiState.confirmedTimeSteps.push({idx: action.payload.step})\n      }\n      state.uiState = Object.assign({}, state.uiState, { uiState: state.uiState })      \n      console.log('setting time value', action.payload)\n      window.socket.emit('PATTERN_SET_VALUE_TIME', action.payload)      \n      return Object.assign({}, state, state)\n    case SONG_ADD_STEP:\n      console.log('REDUCER - '+SONG_ADD_STEP)\n      window.socket.emit('SONG_ADD_STEP', action.payload)\n      return state\n    case SONG_CHANGE_STEP_ORDER:\n      window.socket.emit('SONG_CHANGE_STEP_ORDER', action.payload)\n      return state  \n    case SONG_COPY_STEP:\n      window.socket.emit('SONG_COPY_STEP', action.payload)\n      return state\n    case SONG_DELETE_STEP:\n      window.socket.emit('SONG_DELETE_STEP', action.payload)\n      return state\n    case SONG_SET_VALUE:\n      window.socket.emit('SONG_SET_VALUE', action.payload)\n      return state\n    case START_SEQUENCER:\n      console.log('REDUCER - '+START_SEQUENCER) \n      console.log(action.payload)\n      window.socket.emit('START_SEQUENCER', action.payload)\n      return state\n    case STOP_SEQUENCER:\n      console.log('REDUCER - '+STOP_SEQUENCER) \n      window.socket.emit('STOP_SEQUENCER', action.paylaod)\n      return state\n    case TEST_NETWORK_DEVICE:\n      console.log('REDUCER - '+TEST_NETWORK_DEVICE)\n      window.socket.emit('TEST_NETWORK_DEVICE', action.payload)\n      return state\n    default:      \n      return state\n  }\n}\n\nexport default rootReducer","import { createStore } from \"redux\";\nimport rootReducer from \"./reducers/index\";\n\nconst store = createStore(rootReducer);\n\nexport default store;","import {\n  COPY_PATTERN,\n  CREATE_PATTERN,\n  DELETE_PATTERN,\n  DELETE_SONG,\n  INITIALIZE_DATA,\n  LOAD_PATTERN,\n  MAP_PIN_TO_CHANNEL,\n  PATTERN_CLEAR,\n  PLAYLIST_ADD_STEP,\n  PLAYLIST_CHANGE_STEP_ORDER,\n  PLAYLIST_COPY_STEP,\n  PLAYLIST_DELETE_STEP,\n  PLAYLIST_SET_VALUE,\n  SAVE_EDITS,\n  SAVE_PATTERN,\n  SAVE_PLAYLIST,\n  SAVE_SONG,\n  SET_BOOT_PLAYLIST,\n  SET_CONFIG,\n  SET_CURRENT_STEP,\n  SET_EDIT_MODE,\n  SET_NETWORK_DEVICE_PORT_MAPPING,\n  SET_NETWORK_DEVICE_STATS,\n  SET_NUMBER_OF_STEPS,\n  SET_PATTERNS,\n  SET_PATTERN_NAME,\n  SET_PLAYLISTS,\n  SET_START_ON_BOOT,\n  SET_STEP,\n  SET_STEP_TIME,\n  SET_STEP_VALUE,  \n  SET_SONGS,\n  SET_TIME_VALUE,\n  SET_TIME_VALUE_TEMPORARY,\n  SONG_ADD_STEP,  \n  SONG_CHANGE_STEP_ORDER,\n  SONG_COPY_STEP,\n  SONG_DELETE_STEP,\n  SONG_SET_VALUE,\n  START_SEQUENCER,\n  STOP_SEQUENCER,\n  TEST_NETWORK_DEVICE\n} from '../constants/action-types'\n\nexport function createPattern (payload) {\n  return { type: CREATE_PATTERN, payload }\n}\n\nexport function copyPattern (payload) {\n  return { type: COPY_PATTERN, payload }\n}\n\nexport function deletePattern (payload) {\n  return { type: DELETE_PATTERN, payload }\n}\n\nexport function deleteSong (payload) {\n  return { type: DELETE_SONG, payload }\n}\n\nexport function initializeData (payload) {\n  return { type: INITIALIZE_DATA, payload }\n}\n\nexport function loadPattern (payload) {\n  return { type: LOAD_PATTERN, payload }\n}\n\nexport function mapPinToChannel (payload) {\n  return { type: MAP_PIN_TO_CHANNEL, payload }\n}\n\nexport function patternClear (payload) {\n  return { type: PATTERN_CLEAR, payload }\n}\n\nexport function playlistAddStep (payload) {\n  return { type: PLAYLIST_ADD_STEP, payload }\n}\n\nexport function playlistChangeStepOrder (payload) {\n  return { type: PLAYLIST_CHANGE_STEP_ORDER, payload }\n}\n\nexport function playlistCopyStep (payload) {\n  return { type: PLAYLIST_COPY_STEP, payload }\n}\n\nexport function playlistDeleteStep (payload) {\n  return { type: PLAYLIST_DELETE_STEP, payload }\n}\n\nexport function playlistSetValue(payload) {\n  return { type: PLAYLIST_SET_VALUE, payload }\n}\n\nexport function saveEdits (payload) {\n  return { type: SAVE_EDITS, payload }\n}\n\nexport function savePattern (payload) {\n  return { type: SAVE_PATTERN, payload }\n}\n\nexport function savePlaylist (payload) {\n  return { type: SAVE_PLAYLIST, payload }\n}\n\nexport function saveSong (payload) {\n  return { type: SAVE_SONG, payload }\n}\n\nexport function setBootPlaylist (payload) {\n  return { type: SET_BOOT_PLAYLIST, payload }\n}\n\nexport function setConfig (payload) {\n  return { type: SET_CONFIG, payload }\n}\n\nexport function setCurrentStep (payload) {\n  return { type: SET_CURRENT_STEP, payload }\n}\n\nexport function setEditMode (payload) {\n  return { type: SET_EDIT_MODE, payload }\n}\n\nexport function setNetworkDevicePortMapping (payload) {\n  return { type: SET_NETWORK_DEVICE_PORT_MAPPING, payload }\n}\n\nexport function setNetworkDeviceStats (payload) {\n  return { type: SET_NETWORK_DEVICE_STATS, payload }\n}\n\nexport function setNumberOfSteps (payload) {\n  return { type: SET_NUMBER_OF_STEPS, payload }\n}\n\nexport function setStep (payload) {\n  return { type: SET_STEP, payload }\n}\n\nexport function setStepTime (payload) {\n  return { type: SET_STEP_TIME, payload }\n}\n\nexport function setPatterns (payload) {\n  return { type: SET_PATTERNS, payload }\n}\n\nexport function setPatternName (payload) {\n  return {  type: SET_PATTERN_NAME, payload }\n}\n\nexport function setPlaylists (payload) {\n  return { type: SET_PLAYLISTS, payload }\n}\n\nexport function setStartOnBoot (payload) {\n  return { type: SET_START_ON_BOOT, payload }\n}\n\nexport function setSongs (payload) {\n  return { type: SET_SONGS, payload }\n}\n\nexport function setStepValue (payload) {\n  return { type: SET_STEP_VALUE, payload }\n}\n\nexport function setTimeValue (payload) {\n  return { type: SET_TIME_VALUE, payload }\n}\n\nexport function setTimeValueTemporary (payload) {\n  return { type: SET_TIME_VALUE_TEMPORARY, payload }\n}\n\nexport function songAddStep (payload) {\n  return { type: SONG_ADD_STEP, payload }\n}\n\nexport function songChangeStepOrder (payload) {\n  return { type: SONG_CHANGE_STEP_ORDER, payload }\n}\n\nexport function songCopyStep (payload) {\n  return { type: SONG_COPY_STEP, payload }\n}\n\nexport function songDeleteStep (payload) {\n  return { type: SONG_DELETE_STEP, payload }\n}\n\nexport function songSetValue (payload) {\n  return { type: SONG_SET_VALUE, payload }\n}\n\nexport function startSequencer (payload) {\n  return { type: START_SEQUENCER, payload }\n}\n\nexport function stopSequencer (payload) {\n  return { type: STOP_SEQUENCER, payload }\n}\n\nexport function testNetworkDevice (payload) {\n  return { type: TEST_NETWORK_DEVICE, payload }\n}","import { connect } from 'react-redux'\nimport { Grid } from '@material-ui/core'\nimport { setCurrentStep } from '../../actions/index'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentStep: state.currentStep,\n    patternLength: state.config.activePattern.patternLength,\n    playingMode: state.config.playingMode\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setCurrentStep: payload => { dispatch(setCurrentStep(payload)) }\n  }\n}\n\nfunction ActiveStep ({ currentStep, patternLength, playingMode, setCurrentStep }) {\n  const boxSize = 1000 / patternLength \n  return (\n    <Grid container item xs={12} alignItems='center' justifyContent='center' style={{marginTop: 24, marginBottom: -5}}>\n        <Grid item xs={1}/>\n        <Grid item xs={11}>\n          <svg viewBox={`-1 0 1001 15`}\n                style={{\n                  backgroundColor: '#FFF', \n                  width: '100%', \n                  height: '15px',\n                  margin: 'auto'\n                }}>    \n              {\n                new Array(patternLength).fill(0).map((o, index) => {\n                  return (\n                    <g key={`stepIndicator_${index}`} \n                      transform={`translate(${(boxSize*index)} 0)`}\n                      onClick={ ()=>{ console.log('click', index); setCurrentStep({ value: index }) } }\n                    >\n                      <rect x='1' y='0' rx='2' ry='2' width={boxSize-2} height={15} stroke='#AAA'\n                        fill={ ((playingMode === 'pattern') && (currentStep === index)) ? '#FFBF00' : '#CCC' }/>\n                    </g>\n                  )\n                })\n              }\n          </svg>\n        </Grid>      \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveStep)\n\n","import { useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { Grid, Typography } from '@material-ui/core'\nimport { setStepValue } from '../../actions/index'\nimport * as d3 from 'd3'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    pattern: state.config.activePattern,\n    channels: state.config.activePattern.channels\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setStepValue: payload => dispatch(setStepValue(payload))\n  }\n}\n\nfunction registerSvgRefDrag (svgRef) {\n  console.log('handler has run')\n  const handler = d3.drag().on('drag', dragged)\n  function dragged (event) {\n    console.log('event', event)\n  }\n  handler(d3.select(svgRef.current))\n}\n\nfunction Channels ({ channels, pattern, setStepValue }) {\n  const boxSize = 1000 / pattern.patternLength\n  const boxHeight = Math.min(24, boxSize)\n\n  const svgRef = useRef(null)\n\n  registerSvgRefDrag(svgRef)\n\n  return (\n    <Grid container item xs={12}>\n      {\n        channels.slice(1,channels.length).map((channel,channelIdx)=>{\n          return (\n            <Grid key={`patternMode_channelParent_${channelIdx}`} container item xs={12} alignItems='center' \n              style={{ outline: '1px solid white', marginBottom: 0, }}>\n              <Grid container item xs={1} justifyContent='flex-end'>\n                <Grid item align='center' xs={6} style={{ height: 22,  backgroundColor: channelIdx % 2 ? '#EEE' : '#FFF'}}>\n                  <Typography variant='body2' \n                    style={{ fontWeight: 700, fontSize: 12, position: 'relative', top: 3 }}>{channelIdx === 0 ? 'CH ' : null}{channelIdx}</Typography>\n                </Grid>\n              </Grid>\n              <Grid container item xs={11}>\n                <svg ref={svgRef} viewBox={`-1 0 1001 ${boxHeight}`}\n                  style={{ width: '100%', backgroundColor: channelIdx % 2 ? '#EEE' : '#FFF' }}\n                >\n                {\n                  new Array(pattern.patternLength).fill(0).map((n,idx)=>{\n                    const value = channel.steps.filter(o=>{return o.idx === idx})[0] !== undefined\n                    return (\n                      <g key={`patternMode_sequenceValues_${idx}_${channelIdx}`} transform={`translate(${idx*boxSize} 0)`}>\n                        <rect x='0' y='-1' \n                          width={boxSize} height={boxHeight+2} \n                          fill={ value ? '#1f77b4' : 'transparent' }\n                          stroke={channelIdx % 2 ? '#FFF' : '#EEE'}\n                          style={{\n                            cursor: 'pointer'\n                          }}\n                          onClick={()=>{             \n                            setStepValue({ channel: channelIdx+1, step: idx, value: value ? false : true })           \n                          }}\n                          />\n                      </g>\n                    )\n                  })\n                  // channel.steps.map((step, valueIndex) => {\n                  // })\n                }\n                </svg>\n              </Grid>\n            </Grid>\n          )\n        })\n      }\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Channels)\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Grid } from '@material-ui/core'\nimport { startSequencer, stopSequencer } from '../../actions/index'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    isPlaying: state.config.isPlaying && (state.config.playingMode === ownProps.mode)\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    startSequencer: payload => dispatch(startSequencer(payload)),\n    stopSequencer: payload => dispatch(stopSequencer(payload))\n  }\n}\n\nfunction Transport (props) {\n  return (\n    <Grid container item xs={12} spacing={1} justifyContent='center' alignItems='center' style={{fontSize: 32, color: '#1f77b4'}}>\n      <Grid className='transport-button' item \n        style={{ borderBottom: props.isPlaying  ? '4px solid #1f77b4' : '4px solid transparent' }}\n        onClick={()=>{ props.startSequencer({mode: props.mode}) }}\n      >\n        <svg width='18' height='18' style={{ border: '0px solid black' }}>\n          <polygon fill='#1f77b4' points='0 0 18 9 0 18'/>            \n        </svg>\n      </Grid>\n      <Grid className='transport-button' item \n        style={{borderBottom: '4px solid transparent'}}\n        onClick={()=>{ props.stopSequencer() }}\n      >      \n        <svg width='18' height='18' style={{ border: '0px solid black' }}>\n          <polygon fill='#1f77b4' points='0 0 18 0 18 18 0 18'/>\n        </svg>\n      </Grid>\n      {/* {\n        props.mode === 'song' ?\n              <Grid className='transport-button' item style={{borderBottom: '4px solid transparent'}}>\n                <svg width='18' height='18' style={{ border: '0px solid black' }}>\n                  <rect x='0' y='0' width='8' height='18' fill='#1f77b4'/>\n                  <rect x='10' y='0' width='8' height='18' fill='#1f77b4'/>\n                </svg>\n              </Grid>\n            : null          \n      }       */}\n    </Grid>    \n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Transport)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, TextField, Typography } from '@material-ui/core'\nimport { patternClear, saveEdits, savePattern, setEditMode, setNumberOfSteps, setPatternName } from '../../actions/index'\nimport Transport from '../subcomponents/Transport'\n\nconst mapStateToProps = (state, ownProps) => {\n  const activePatternIdx = state.patterns.findIndex(o=>o.id === state.config.activePatternId)\n  return {\n    numberOfChannels: state.config.activePattern.channels.length -1,\n    numberOfSteps: state.config.activePattern.patternLength,    \n    patternName: state.config.activePattern.name,\n    editMode: state.uiState.editModePattern,\n    showSave: JSON.stringify(state.config.activePattern) !== JSON.stringify(state.patterns[activePatternIdx])\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    patternClear: payload => dispatch(patternClear(payload)),\n    saveEdits: payload => dispatch(saveEdits(payload)),\n    savePattern: payload => dispatch(savePattern(payload)),\n    setEditMode: payload => dispatch(setEditMode(payload)),\n    setNumberOfSteps: payload => dispatch(setNumberOfSteps(payload)),    \n    setPatternName: payload => dispatch(setPatternName(payload))\n  }\n}\n\nfunction PatternName ({ editMode, numberOfChannels, numberOfSteps, patternName, saveEdits, savePattern, setEditMode, showSave, setNumberOfSteps, setPatternName }) {\n  let nSteps = numberOfSteps\n  let name = patternName\n  return (\n    <Grid container item xs={12} alignItems='center'>\n      <Grid container item xs={1} alignItems='center' justifyContent='center' align='center'>\n        <Grid item xs={12}>\n          <Typography variant='body2'>Name</Typography>\n        </Grid>\n      </Grid>\n      <Grid container item xs={6} alignItems='center'>\n        {\n          editMode ? \n          <>\n            <Grid item xs={4}>\n              <TextField defaultValue={name} size='medium'\n                onChange = { (event) => { \n                  name = event.target.value \n                  setPatternName({ mode: 'pattern', value: event.target.value })\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <TextField \n                variant='outlined' size='small' \n                type='text' label=\"Steps\" \n                defaultValue={numberOfSteps}\n                onChange={(event)=>{\n                  console.log('on change steps', event.target.value)\n                  nSteps = event.target.value\n                  setNumberOfSteps({ value: nSteps })\n                }}\n                onKeyPress={(event)=>{\n                  console.log(event.key)\n                  if(event.key === 'Enter') {\n                    setNumberOfSteps({ value: nSteps })\n                  }\n                }}\n              />\n            </Grid>\n            <Grid item xs={3} align='right'>\n              <Button \n                variant='contained' \n                color='primary' \n                size='small' \n                onClick={()=>{ saveEdits({ mode: 'pattern' }); setEditMode({mode: 'pattern', value: false}) }}>\n                  Done\n              </Button>\n              <Button \n                variant='text' \n                color='default' \n                size='small' \n                onClick={()=>{console.log('set edit mdoe click'); setEditMode({mode: 'pattern', value: false})}}>\n                  &#10005;\n              </Button>\n            </Grid>                   \n          </> : \n          <>\n            <Grid item xs={5}>\n              <Typography variant='h6'>{patternName}</Typography>                \n            </Grid>\n            <Grid container item xs={2} align='center'>\n              <Grid item xs={12}><Typography variant='body2'>Steps</Typography></Grid>\n              <Grid item xs={12}><Typography variant='body1'>{numberOfSteps}</Typography></Grid>\n            </Grid>\n            <Grid item xs={1}>\n              <Button variant='outlined' color='default' size='small' onClick={()=>{console.log('set edit mdoe click'); setEditMode({mode: 'pattern', value: true})}}>Edit</Button>\n            </Grid>             \n          </>\n        }        \n      </Grid>      \n      <Grid container item xs={2} justifyContent='center'>\n        <Transport mode='pattern'/>\n      </Grid>\n      <Grid container item xs={3} justifyContent='flex-end' spacing={1}>  \n        {\n          editMode ? <></> :\n          <>\n            {\n              showSave ? \n              <Grid item>\n                <Button variant='outlined' color='primary' size='medium' style={{marginRight: 16}}\n                  onClick={()=>{console.log('saving pattern'); savePattern({})}}\n                >Save</Button>\n              </Grid> : <></>\n            }\n          </>\n        }  \n      </Grid>    \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PatternName)\n\n\n","import { connect } from 'react-redux'\nimport { Grid, Typography } from '@material-ui/core'\nimport { setTimeValue, setTimeValueTemporary } from '../../actions/index'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    patternLength: state.config.activePattern.patternLength,\n    timePattern: state.config.activePattern.channels[0],\n    activePatternId: state.config.activePatternId,\n    confirmedTimeSteps: state.uiState.confirmedTimeSteps\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setTimeValue: payload => dispatch(setTimeValue(payload)),\n    setTimeValueTemporary: payload => dispatch(setTimeValueTemporary(payload))\n  }\n}\n\nfunction Time ({ activePatternId, confirmedTimeSteps, timePattern, setTimeValue, setTimeValueTemporary, patternLength }) {\n  const boxSize = 1000 / patternLength\n  const boxHeight = Math.min(24, boxSize)  \n  return (\n    <Grid container item xs={12} style={{ marginBottom: -3 }} alignItems='center'>\n        <Grid container item xs={1} align='center' justifyContent='flex-end'>\n          <Grid item xs={6} style={{ height: 20, backgroundColor: '#EEE', borderTopLeftRadius: '6px' }}>\n            <Typography variant='body2' style={{ fontStyle: 'italic', fontWeight: 700, position: 'relative', top: 1 }}>ms</Typography>\n          </Grid>\n        </Grid>\n        <Grid item xs={11}>\n          <svg viewBox={`-1 0 1001 25`}\n            style={{\n              backgroundColor: '#FFF', \n              width: '100%',\n              marginTop: 2\n            }}>    \n            {            \n              new Array(patternLength).fill(0).map((value, idx) => {\n                const valueForStep = timePattern.steps.filter(o=>o.idx === idx)[0]\n                const confirmed = confirmedTimeSteps.findIndex(o=>o.idx === idx)\n                return (\n                  <g key={`pattern_${activePatternId}_speedvalue_${idx}_${Math.random()}`} transform={`translate(${(boxSize*idx)} 0)`}>\n                    <rect x='1' y='1' height={boxHeight-1} width={boxSize-2} fill='#EEE' stroke='#AAA' onClick={()=>{ setTimeValue({ step: idx, value: Number(500) }) }}/>\n                    {\n                      valueForStep === undefined ? <></> :\n                      <>\n                        <foreignObject width={boxSize} height={boxHeight}>\n                          <input type='text'                         \n                            defaultValue={ valueForStep.value }\n                            style={{ \n                              backgroundColor: confirmed === -1 ? 'white' : '#1f77b4',\n                              color: confirmed === -1 ? 'black' : 'white',\n                              fontWeight: confirmed === -1 ? '500' : '700',\n                              border: '1px solid #DDD',\n                              height: boxHeight-5,\n                              width: boxSize-7,\n                              marginTop: 1,\n                              outline: 'none', \n                              fontSize: 12,\n                              textAlign: 'center'\n                            }}\n                            onChange={(event)=>{\n                              // return\n                              console.log('onchange', event.target.value)\n                              // setTimeValueTemporary({ step: idx, value: Number(event.target.value) })                            \n                            }}\n                            onKeyDown={(event)=>{\n                              // return\n                              console.log('onkeydown', event.key, event.target.value)\n                              if (event.key === 'Enter' || event.key === 'Tab') {\n                                setTimeValue({ step: idx, value: Number(event.target.value) })                            \n                              }                        \n                            }}/>\n                        </foreignObject>                      \n                      </>\n                    }                    \n                  </g>\n                )\n              })\n            }\n          </svg>\n        </Grid>   \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Time)\n\n","import { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Grid, Typography } from '@material-ui/core'\nimport { copyPattern, createPattern, deletePattern, loadPattern } from '../../actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    props: ownProps,\n    activePatternId: ownProps.mode === 'song' ? state.config.activeSongId : ownProps.mode === 'playlist' ? state.config.activePlaylistId : state.config.activePatternId,\n    patterns: ownProps.mode === 'song' ? state.songs : ownProps.mode === 'playlist' ? state.playlists : state.patterns,    \n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    copyPattern: payload => { dispatch(copyPattern(payload)) },\n    createPattern: payload => { dispatch(createPattern(payload)) },\n    deletePattern: payload => { dispatch(deletePattern(payload))},\n    loadPattern: payload => { dispatch(loadPattern(payload)) }\n  }\n}\n\nfunction Load ({ activePatternId, copyPattern, createPattern, deletePattern, loadPattern, patterns, props }) {\n\n  const [ patternsHalfwayToDeletion, setPatternsHalfway ] = useState([])\n\n  return (\n    <Grid container item spacing={0} alignItems='flex-start' justifyContent='center'  style={{borderLeft: '0px solid #EEE', height: '100%'}}>      \n      <Grid container item xs={12} alignItems='flex-start' justifyContent='center' style={{ border: '0px solid #EEE' }} >\n        <Grid xs={12} container item alignItems='flex-start' align='center' justifyContent='flex-start' \n          style={{outline: '0px solid red', paddingTop: '4px', paddingBottom: '18.5px'}}>\n          <Grid item xs={10}>\n            <Button size='large' variant='outlined' color='primary'\n              onClick={()=>{ createPattern({ mode: props.mode }) }}>NEW { props.mode === 'song' ? 'Song' : props.mode === 'playlist' ? 'Playlist' : 'Pattern' }</Button>\n          </Grid>\n        </Grid>          \n        <Grid container item xs={12} style={{maxHeight: '410px', overflow: 'hidden', overflowY: 'auto'}}>        \n          {\n            patterns.map((pattern,patternIdx)=>{\n              return (\n                <Grid key={'pattern-list-item-'+pattern.id} container item \n                  xs={12} sm={12} \n                  alignItems='center' justifyContent='center'\n                  style={{ paddingBottom: 0, marginBottom: 1 }}>\n                  { patternsHalfwayToDeletion.indexOf(patternIdx) === -1 ? \n                      <>\n                        <Grid item xs={10} \n                          onClick={()=>{ loadPattern({ id: pattern.id, mode: props.mode }) }} >\n                          <Button \n                            size='small'\n                            variant={ activePatternId === pattern.id ? 'contained' : 'outlined' } \n                            color={ activePatternId === pattern.id ? 'primary' : 'default' } \n                            style={{ width: '100%', whiteSpace: 'nowrap' }}>\n                            {pattern.name}\n                          </Button>\n                        </Grid>\n                        <Grid item xs={2} align='left'\n                          onClick={(event)=>{ \n                            event.stopPropagation()\n                            const p = patternsHalfwayToDeletion\n                            p.push(patternIdx)\n                            setPatternsHalfway(Object.assign([], patternsHalfwayToDeletion, p))\n                          }}>\n                            <Button size='small' variant='text' style={{width:'100%', minWidth: 0}}>&#10005;</Button>\n                        </Grid>\n                      </>                  \n                    : \n                    <>\n                      <Grid item xs={4} align='center' style={{padding: '8px 0px'}}>\n                        Sure?\n                      </Grid>\n                      <Grid item xs={4}>\n                        <Button variant='contained' size='small'\n                          onClick={()=>{ \n                            const p = patternsHalfwayToDeletion.filter(o=>o !== patternIdx)\n                            setPatternsHalfway(Object.assign([], [], p))\n                            deletePattern({ id: pattern.id, mode: props.mode })\n                          }}>Yes</Button>\n                      </Grid>\n                      <Grid item xs={4}>\n                        <Button size='small'\n                          onClick={(event)=>{\n                            event.stopPropagation()\n                            const p = patternsHalfwayToDeletion.filter(o=>o !== patternIdx)\n                            setPatternsHalfway(Object.assign([], [], p))\n                          }}\n                        >No</Button>\n                      </Grid>                                        \n                    </> \n                  }\n                </Grid>\n              )\n            })\n          }\n        </Grid>\n      </Grid>      \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Load)\n\n","import { connect } from 'react-redux'\nimport { Typography } from '@material-ui/core'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    props: ownProps\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nfunction ConfigSectionTitle ({ props }) {\n  return (\n    <div style={{ position: 'relative' }}>\n      <div style={{\n        backgroundColor: '#EEE', \n        border: '1px solid #CCC',\n        borderRadius: 0, \n        color: '#333', \n        fontWeight: 700,\n        left: -10, \n        padding: '4px 12px', \n        position: 'absolute',       \n        top: -37, \n      }}>\n        <Typography variant='body2' style={{fontWeight: 700, letterSpacing: '0.5px'}}>{props.title}</Typography>\n      </div>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigSectionTitle)\n\n","import { connect } from 'react-redux'\nimport { Grid } from '@material-ui/core'\nimport ActiveStep from './ActiveStep'\nimport Channels from './Channels'\nimport PatternName from './PatternName'\nimport Time from './Time'\nimport LoadPatterns from '../subcomponents/Load'\nimport ConfigSectionTitle from '../Config/ConfigSectionTitle'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {}\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nfunction CurrentPattern ({ }) {\n  return (\n    <Grid container item xs={12}>\n      <Grid container item xs={10}>\n        <PatternName/>\n        <Grid container item xs={12} style={{paddingRight: 24}}>\n          <ActiveStep/>\n          <Time/>\n          <Channels/>            \n        </Grid>\n      </Grid>\n      <Grid container item xs={2}>\n        <LoadPatterns mode='pattern'/>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentPattern)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, TextField, Typography } from '@material-ui/core'\nimport { saveEdits, saveSong, setEditMode, setPatternName } from '../../actions/index'\nimport Transport from '../subcomponents/Transport'\n\nconst mapStateToProps = (state, ownProps) => {\n  const activeSongIdx = state.songs.findIndex(o=>o.id === state.config.activeSongId)\n  return {\n    name: state.config.activeSong.name,\n    editMode: state.uiState.editModeSong,\n    showSave: JSON.stringify(state.config.activeSong) !== JSON.stringify(state.songs[activeSongIdx])\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    saveEdits: payload => dispatch(saveEdits(payload)),\n    saveSong: payload => dispatch(saveSong(payload)),\n    setEditMode: payload => dispatch(setEditMode(payload)),\n    setPatternName: payload => dispatch(setPatternName(payload))\n  }\n}\n\nfunction PatternName ({ editMode, name, saveEdits, saveSong, setEditMode, setPatternName, showSave }) {\n  return (\n    <Grid container item xs={12} alignItems='center'>\n      <Grid item xs={1} align='center'>\n        <Typography variant='body2'>Name</Typography>        \n      </Grid>\n      <Grid container item xs={6}>\n        {\n          editMode ? \n          <>\n            <Grid item xs={4}>\n              <TextField defaultValue={name}\n                onChange={(event)=>{\n                  setPatternName({ mode: 'song', value: event.target.value })\n                }}/>\n            </Grid>\n            <Grid item xs={2}/>\n            <Grid container item xs={3} justifyContent='center' align='right'>\n              <Button variant='contained' color='primary' size='small' onClick={()=>{ saveEdits({ mode: 'song' }); setEditMode({ mode: 'song', value: false })}}>Done</Button>\n              <Button size='small' onClick={()=>{setEditMode({ mode: 'song', value: false })}}>&#10005;</Button>\n            </Grid>\n          </> :\n          <>\n            <Grid item xs={7}>\n              <Typography variant='h6'>{name}</Typography>  \n            </Grid>\n            <Grid item xs={1}>\n              <Button variant='outlined' size='small' onClick={()=>{ setEditMode({ mode: 'song', value: true })}}>Edit</Button>\n            </Grid>            \n          </>\n        }\n      </Grid>\n      <Grid container item xs={2} justifyContent='center'>\n        <Transport mode='song'/>\n      </Grid>      \n      <Grid container item xs={3} justifyContent='flex-end' spacing={1}>  \n        <Grid item style={{display: showSave ? null : 'none' }}>\n          <Button variant='outlined' color='primary' size='medium' style={{marginRight: 16}}\n            onClick={()=>{ saveSong() }}>Save</Button>\n        </Grid>        \n      </Grid>      \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PatternName)\n\n\n","import { connect } from 'react-redux'\nimport * as d3 from 'd3'\nimport { Grid } from '@material-ui/core'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentStepTime: state.currentStepTime,\n    songPattern: ownProps.mode === 'playlist' ? state.config.playlistData.songs : state.config.songData.patterns,    \n    doIndicator: ownProps.mode === state.config.playingMode\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nfunction Visualized ({ currentStepTime, doIndicator, songPattern }) {\n  const colors = d3.scaleOrdinal(d3.schemeCategory10)\n  const sum = d3.sum(songPattern, d=>d.msLength)\n  const w = 960\n  const scaleX_ms = d3.scaleLinear().domain([0,sum]).range([0,w])\n  const scaleX_percent = d3.scaleLinear().domain([0,1]).range([0,w])\n\n  let listOfPatterns = []\n  songPattern.forEach(pattern => {\n    if (listOfPatterns.indexOf(pattern.id) === -1) {\n      listOfPatterns.push(pattern.id)\n    }\n  })\n  listOfPatterns = listOfPatterns.sort()\n  return (\n    <Grid container item xs={12}>\n      <svg width='90%' height='45px' viewBox={`0 0 ${w} 45`} style={{ margin: 'auto', backgroundColor: 'white', opacity: songPattern.length === 0 ? 0 : null }}>\n        {\n          songPattern.map((pattern,idx)=>{\n            const x = scaleX_ms(d3.sum(songPattern.filter((o,i)=>i<idx), d=>d.msLength))\n            const w = scaleX_ms(pattern.msLength)\n            return (\n              <rect key={`visualized_songpattern_${idx}`} x={x} y='0' width={w} height='35' fill={colors(listOfPatterns.indexOf(pattern.id))} stroke='white'/>\n            )\n          })\n        }\n        <g transform={`translate(${currentStepTime ? scaleX_percent(currentStepTime): 0} 0)`} style={{ display: doIndicator ? null : 'none' }}>\n          <line x1='0' y1='0' x2='0' y2='35' stroke='black' strokeWidth='4px'/>\n          <g transform='translate(0 35)'>\n            <polygon points='0 0 5 10 -5 10' fill='black'/>\n          </g>          \n        </g>\n      </svg>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Visualized)","import { useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3'\nimport { Button, Grid, TextField, Typography } from '@material-ui/core'\nimport SongName from './SongName'\nimport Visualized from '../subcomponents/Visualized'\nimport LoadPatterns from '../subcomponents/Load'\nimport { songAddStep, songChangeStepOrder, songCopyStep, songDeleteStep, songSetValue } from '../../actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    patterns: state.patterns,\n    song: state.config.activeSong,    \n    songPattern: state.config.songData\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    songAddStep: payload => { dispatch(songAddStep(payload)) },\n    songChangeStepOrder: payload => { dispatch(songChangeStepOrder(payload)) },\n    songCopyStep: payload => { dispatch(songCopyStep(payload)) },\n    songDeleteStep: payload => { dispatch(songDeleteStep(payload)) },    \n    songSetValue: payload => {dispatch(songSetValue(payload)) }\n  }\n}\n\nfunction SongModeBase ({ patterns, song, songAddStep, songChangeStepOrder, songCopyStep, songDeleteStep, songPattern, songSetValue }) {\n  const songPatterns = song.steps\n  const [ indexesEditActive, setEditActive ] = useState([])\n\n  let listOfPatterns = []\n  songPattern.patterns.forEach(pattern => {\n    if (listOfPatterns.indexOf(pattern.id) === -1) {\n      listOfPatterns.push(pattern.id)\n    }\n  })\n  listOfPatterns = listOfPatterns.sort()\n\n  const colors = d3.scaleOrdinal(d3.schemeCategory10)\n\n  return (\n    <Grid container item xs={12}>\n      <Grid container item xs={10}>\n        <SongName/>\n        <Grid container item xs={12} style={{ margin: '24px 0px 18px 0px' }}>\n          <Visualized mode='song'/>\n        </Grid>      \n        <Grid container item xs={12} justifyContent='center'>\n          <Grid container item xs={12} sm={12} md={10} justifyContent='space-around' style={{marginTop: 8}}>\n            <Grid container item xs={12} style={{ fontSize: 12, fontWeight: 800, textTransform: 'uppercase', marginBottom: 2, padding: 8}}>\n              <Grid container item align='center' style={{ display: song.steps.length === 0 ? 'none' : null }}>\n                <Grid item xs={1}>&nbsp;</Grid>\n                <Grid item xs={10} md={5} align='left'>Pattern Name</Grid>\n                <Grid container item xs={3} md={4} lg={6}>\n                  <Grid item xs={3}>Repeat</Grid>\n                  <Grid item xs={3}>Speed</Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            {\n              song.steps.length === 0 ? <></> :\n              song.steps.map((pattern,idx)=>{\n                const o = patterns.filter(o=>{return o.id === pattern.id})[0]\n                return (              \n                  <Grid key={`songMode_steps_${idx}`} item xs={12} style={{borderRadius: '4px', border: '1px solid #DDD', marginBottom: 4, padding: 8 }}>\n                    <Grid container align='center' alignItems='center'>\n                      <Grid item xs={1} align='left' style={{paddingTop: '4px', paddingLeft: '8px', cursor: 'pointer'}} onClick={()=>{ songDeleteStep({idx}) }}>\n                        <svg viewBox='0 0 18 18' width='12' height='12'>\n                          <line x1='17' y1='1' x2='1' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                          <line x1='1' y1='1' x2='17' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                        </svg>\n                      </Grid>\n                      {/* <Grid itme xs={1}>{idx}</Grid> */}\n                      <Grid item xs={10} md={5} align='left'>\n                        {\n                          indexesEditActive.indexOf(idx) === -1 ? \n                          <>\n                            <div style={{ \n                              display: 'inline-block', \n                              position: 'relative',\n                              marginLeft: -16, \n                              top: 3, left: -17, \n                              width: 16, height: 16, \n                              backgroundColor: colors(listOfPatterns.findIndex(o=>o===pattern.id)), \n                              borderRadius: '50%'}}/>\n                            <span><Typography variant='body1' style={{display: 'inline-block'}}>{o.name}</Typography></span>\n                          </> :\n                          <>\n                            <select style={{width: '100%'}} \n                              onChange={ event => { \n                                console.log(event.target.value)\n                                songSetValue({ idx, type: 'pattern', value: event.target.value }) \n                              } }>\n                              {\n                                patterns.map(pattern=>{\n                                  const stepNameMatches = o.id === pattern.id\n                                  console.log(stepNameMatches, o.id, pattern.id)\n                                  return (\n                                    <option value={pattern.id} selected={stepNameMatches} >{pattern.name}</option>\n                                  )\n                                })\n                              }\n                            </select>\n                          </>\n                        \n                        }\n                      </Grid>\n                      <Grid container item xs={3} md={3} lg={3} alignItems='center' justifyContent='space-around'>\n                        <Grid item xs={6} align='center'>\n                          {\n                            indexesEditActive.indexOf(idx) === -1 ? \n                              <><Typography variant='body2'>{pattern.repeat}x</Typography></> : \n                              <Grid container item xs={12} justifyContent='center' alignItems='center'>\n                                <Grid item>\n                                  <TextField size='small' \n                                    defaultValue={pattern.repeat} \n                                    style={{ width: '32px', textAlign: 'center' }}\n                                    onChange={ event => { \n                                      console.log(event.target.value)\n                                      songSetValue({ idx, type: 'repeat', value: event.target.value }) \n                                    }}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                  <span>x</span>\n                                </Grid>\n                              </Grid>\n\n                          }                        \n                        </Grid>\n                        <Grid item xs={6}>\n                          {\n                            indexesEditActive.indexOf(idx) === -1 ? \n                              <><Typography variant='body2'>{pattern.speed}x</Typography></> : \n                              <Grid container item xs={12} justifyContent='center' alignItems='center' spacing={1}>\n                                <Grid item>\n                                  <select style={{width: 40}}\n                                  onChange={ event => { \n                                    console.log(event.target.value)\n                                    songSetValue({ idx, type: 'speed', value: event.target.value }) \n                                  } }                                  \n                                  >\n                                    {\n                                      [0.25, 0.5, 1, 1.5, 2, 4, 8].map((value,optionIdx)=>{\n                                        return (\n                                          <option key={`speed_option_${idx}_${optionIdx}`}  value={value} selected={Number(pattern.speed) === value ? true : false}>{value}</option>\n                                        )\n                                      })\n                                    }                                    \n                                  </select>\n                                </Grid>\n                                <Grid item>\n                                  <span>x</span>\n                                </Grid>\n                              </Grid>\n                          }                        \n                        </Grid>\n                      </Grid>\n                      <Grid container item xs={2} md={3} lg={3} justifyContent='flex-end' style={{paddingTop: '4px'}} spacing={1}>\n                        { indexesEditActive.indexOf(idx) === -1 ? \n                            <>\n                              <Grid item onClick={()=>{ songChangeStepOrder({ idx, direction: 'up' }) }} style={{cursor: idx === 0 ? null : 'pointer'}}>\n                                <svg width='18' height='18' style={{ opacity : idx === 0 ? 0 : 1 }}>\n                                  <polygon points='9 0 18 18 0 18' fill='#1f77b4'/>\n                                </svg>\n                              </Grid>\n                              <Grid item onClick={()=>{ songChangeStepOrder({ idx, direction: 'down' }) }} style={{cursor: 'pointer'}}>\n                                <svg width='18' height='18' style={{ opacity : idx === song.steps.length-1 ? 0 : 1 }}>                           \n                                  <polygon transform='rotate(180 9,9)' points='9 0 18 18 0 18' fill='#1f77b4'/>\n                                </svg>\n                              </Grid>\n                              <Grid item align='right' style={{cursor: 'pointer'}} onClick={()=>{ songCopyStep({idx}) }}>\n                                <svg width='18' height='18'>                          \n                                  <line x1='1' y1='9' x2='17' y2='9' stroke='#1f77b4' strokeWidth='4'/>\n                                  <line x1='9' y1='1' x2='9' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                                </svg>                        \n                              </Grid> \n                              <Grid item align='right' style={{cursor: 'pointer'}} \n                                onClick={()=>{ \n                                  const newIndexes = indexesEditActive\n                                  newIndexes.push(idx)\n                                  setEditActive(Object.assign([], [], newIndexes)) \n                                }}                                \n                              >\n                                <svg width='18' height='18'>                          \n                                  <rect x='2' y='2' width='14' height='14' fill='none' stroke='#1f77b4' strokeWidth='4'/>\n                                  <line x1='19' y1='0' x2='9' y2='9' stroke='white' strokeWidth='7'/>\n                                  <line x1='16' y1='2.5' x2='7' y2='11' stroke='#1f77b4' strokeWidth='4' strokeLinecap='round'/>\n                                </svg>\n                              </Grid> \n                            </> :\n                            <>\n                              <Grid item>\n                                <Button size='small' variant='contained' color='primary'\n                                  onClick={()=>{ \n                                    const newIndexes = indexesEditActive.filter(o=>o!==idx)\n                                    setEditActive(Object.assign([], [], newIndexes)) \n                                  }}                                \n                                >Done</Button>\n                              </Grid>\n                              <Grid item>\n                                <Button size='small'\n                                  onClick={()=>{ \n                                    const newIndexes = indexesEditActive.filter(o=>o!==idx)\n                                    setEditActive(Object.assign([], [], newIndexes)) \n                                  }}                                \n                                >&#10005;</Button>\n                              </Grid>\n                            </>\n                        }\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                )\n              })\n            }\n            <Grid item xs={12} align='center'>\n              <Button size='large' onClick={()=>{ songAddStep() }}>ADD PATTERN</Button>\n            </Grid> \n          </Grid>\n        </Grid>        \n      </Grid>\n      <Grid container item xs={2}>\n        <LoadPatterns mode='song'/>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SongModeBase)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, TextField, Typography } from '@material-ui/core'\nimport { saveEdits, setEditMode, setPatternName, savePlaylist } from '../../actions/index'\nimport Transport from '../subcomponents/Transport'\n\nconst mapStateToProps = (state, ownProps) => {\n  const activePlaylistIdx = state.playlists.findIndex(o=>o.id === state.config.activePlaylistId)\n  return {\n    name: state.config.activePlaylist.name,\n    editMode: state.uiState.editModePlaylist,\n    showSave: JSON.stringify(state.config.activePlaylist) !== JSON.stringify(state.playlists[activePlaylistIdx])\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    saveEdits: payload => dispatch(saveEdits(payload)),\n    savePlaylist: payload => dispatch(savePlaylist(payload)),\n    setEditMode: payload => dispatch(setEditMode(payload)),\n    setPatternName: payload => dispatch(setPatternName(payload))\n  }\n}\n\nfunction PatternName ({ editMode, name, saveEdits, savePlaylist, setEditMode, setPatternName, showSave }) {\n  return (\n    <Grid container item xs={12} alignItems='center'>\n      <Grid item xs={1} align='center'>\n        <Typography variant='body2'>Name</Typography>        \n      </Grid>\n      <Grid container item xs={6}>\n        {\n          editMode ? \n          <>\n            <Grid item xs={4}>\n              <TextField defaultValue={name}\n                onChange={(event)=>{\n                  setPatternName({ mode: 'playlist', value: event.target.value })\n                }}/>\n            </Grid>\n            <Grid item xs={2}/>\n            <Grid container item xs={3} justifyContent='center' align='right'>\n              <Button variant='contained' color='primary' size='small' onClick={()=>{ saveEdits({ mode: 'playlist' }); setEditMode({ mode: 'playlist', value: false })}}>Done</Button>\n              <Button size='small' onClick={()=>{setEditMode({ mode: 'playlist', value: false })}}>&#10005;</Button>\n            </Grid>\n          </> :\n          <>\n            <Grid item xs={7}>\n              <Typography variant='h6'>{name}</Typography>  \n            </Grid>\n            <Grid item xs={1}>\n              <Button variant='outlined' size='small' onClick={()=>{ setEditMode({ mode: 'playlist', value: true })}}>Edit</Button>\n            </Grid>            \n          </>\n        }\n      </Grid>\n      <Grid container item xs={2} justifyContent='center'>\n        <Transport mode='playlist'/>\n      </Grid>      \n      <Grid container item xs={3} justifyContent='flex-end' spacing={1}>  \n        <Grid item style={{display: showSave ? null : 'none' }}>\n          <Button variant='outlined' color='primary' size='medium' style={{marginRight: 16}}\n            onClick={()=>{ savePlaylist() }}>Save</Button>\n        </Grid>        \n      </Grid>      \n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PatternName)\n\n\n","import { useState } from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3'\nimport { Button, Grid, TextField, Typography } from '@material-ui/core'\nimport SongName from './PlaylistName'\nimport Visualized from '../subcomponents/Visualized'\nimport LoadPatterns from '../subcomponents/Load'\nimport { playlistAddStep, playlistChangeStepOrder, playlistCopyStep, playlistDeleteStep, playlistSetValue } from '../../actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    patterns: state.patterns,\n    playlist: state.config.activePlaylist,\n    songs: state.songs,    \n    songPattern: state.config.playlistData.songs\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    playlistAddStep: payload => { dispatch(playlistAddStep(payload)) },\n    playlistChangeStepOrder: payload => { dispatch(playlistChangeStepOrder(payload)) },\n    playlistCopyStep: payload => { dispatch(playlistCopyStep(payload)) },\n    playlistDeleteStep: payload => { dispatch(playlistDeleteStep(payload)) },    \n    playlistSetValue: payload => {dispatch(playlistSetValue(payload)) }\n  }\n}\n\nfunction PlaylistModeBase ({ playlist, songs, playlistAddStep, playlistChangeStepOrder, playlistCopyStep, playlistDeleteStep, songPattern, playlistSetValue }) {\n  // const songPatterns = playlist.steps\n  const [ indexesEditActive, setEditActive ] = useState([])\n\n  let listOfPatterns = []\n  songPattern.forEach(pattern => {\n    if (listOfPatterns.indexOf(pattern.id) === -1) {\n      listOfPatterns.push(pattern.id)\n    }\n  })\n  listOfPatterns = listOfPatterns.sort()\n\n  const colors = d3.scaleOrdinal(d3.schemeCategory10)\n\n  return (\n    <Grid container item xs={12}>\n      <Grid container item xs={10}>\n        <SongName/>\n        <Grid container item xs={12} style={{ margin: '24px 0px 18px 0px' }}>\n          <Visualized mode='playlist'/>\n        </Grid>      \n        <Grid container item xs={12} justifyContent='center'>\n          <Grid container item xs={12} sm={12} md={10} justifyContent='space-around' style={{marginTop: 8}}>\n            <Grid container item xs={12} style={{ fontSize: 12, fontWeight: 800, textTransform: 'uppercase', marginBottom: 2, padding: 8}}>\n              <Grid container item align='center' style={{ display: playlist.steps.length === 0 ? 'none' : null }}>\n                <Grid item xs={1}>&nbsp;</Grid>\n                <Grid item xs={10} md={5} align='left'>Song Name</Grid>\n                <Grid container item xs={3} md={4} lg={6}>\n                  <Grid item xs={3}>Repeat</Grid>\n                  <Grid item xs={3}>Speed</Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            {\n              playlist.steps.length === 0 ? <></> :\n              playlist.steps.map((pattern,idx)=>{\n                const o = songs.filter(o=>{return o.id === pattern.id})[0]\n                return (              \n                  <Grid key={`playlistMode_steps_${idx}_${pattern.id}`} item xs={12} style={{borderRadius: '4px', border: '1px solid #DDD', marginBottom: 4, padding: 8 }}>\n                    <Grid container align='center' alignItems='center'>\n                      <Grid item xs={1} align='left' style={{paddingTop: '4px', paddingLeft: '8px'}} onClick={()=>{ playlistDeleteStep({idx}) }}>\n                        <svg viewBox='0 0 18 18' width='12' height='12' style={{outline:'0px solid black', cursor: 'pointer'}}>\n                          <line x1='17' y1='1' x2='1' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                          <line x1='1' y1='1' x2='17' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                        </svg>\n                      </Grid>\n                      {/* <Grid itme xs={1}>{idx}</Grid> */}\n                      <Grid item xs={10} md={5} align='left'>\n                        {\n                          indexesEditActive.indexOf(idx) === -1 ? \n                          <>\n                            <div style={{ \n                              display: 'inline-block', \n                              position: 'relative',\n                              marginLeft: -16, \n                              top: 3, left: -17, \n                              width: 16, height: 16, \n                              backgroundColor: colors(listOfPatterns.findIndex(o=>o===pattern.id)), \n                              borderRadius: '50%'}}></div>                              \n                            <span><Typography variant='body1' style={{display: 'inline-block'}}>{o.name}</Typography></span>                            \n                          </> :\n                          <>\n                            <select style={{width: '100%'}} \n                              onChange={ event => { \n                                console.log(event.target.value)\n                                playlistSetValue({ idx, type: 'song', value: event.target.value }) \n                              } }>\n                              {\n                                songs.map(pattern=>{\n                                  const stepNameMatches = o.id === pattern.id\n                                  console.log(stepNameMatches, o.id, pattern.id)\n                                  return (\n                                    <option value={pattern.id} selected={stepNameMatches} >{pattern.name}</option>\n                                  )\n                                })\n                              }\n                            </select>\n                          </>\n                        \n                        }\n                      </Grid>\n                      <Grid container item xs={3} md={3} lg={3} alignItems='center' justifyContent='space-around'>\n                        <Grid item xs={6} align='center'>\n                          {\n                            indexesEditActive.indexOf(idx) === -1 ? \n                              <><Typography variant='body2'>{pattern.repeat}x</Typography></> : \n                              <Grid container item xs={12} justifyContent='center' alignItems='center'>\n                                <Grid item>\n                                  <TextField size='small' \n                                    defaultValue={pattern.repeat} \n                                    style={{ width: '32px', textAlign: 'center' }}\n                                    onChange={ event => { \n                                      console.log(event.target.value)\n                                      playlistSetValue({ idx, type: 'repeat', value: event.target.value }) \n                                    }}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                  <span>x</span>\n                                </Grid>\n                              </Grid>\n\n                          }                        \n                        </Grid>\n                        <Grid item xs={6}>\n                          {\n                            indexesEditActive.indexOf(idx) === -1 ? \n                              <><Typography variant='body2'>{pattern.speed}x</Typography></> : \n                              <Grid container item xs={12} justifyContent='center' alignItems='center' spacing={1}>\n                                <Grid item>\n                                  <select style={{width: 40}}\n                                  onChange={ event => { \n                                    console.log(event.target.value)\n                                    playlistSetValue({ idx, type: 'speed', value: event.target.value }) \n                                  } }                                  \n                                  >\n                                    {\n                                      [0.25, 0.5, 1, 1.5, 2, 4, 8].map(value=>{\n                                        return (\n                                          <option value={value} selected={Number(pattern.speed) === value ? true : false}>{value}</option>\n                                        )\n                                      })\n                                    }                                    \n                                  </select>\n                                </Grid>\n                                <Grid item>\n                                  <span>x</span>\n                                </Grid>\n                              </Grid>\n                          }                        \n                        </Grid>\n                      </Grid>\n                      <Grid container item xs={2} md={3} lg={3} justifyContent='flex-end' style={{paddingTop: '4px'}} spacing={1}>\n                        { indexesEditActive.indexOf(idx) === -1 ? \n                            <>\n                              <Grid item onClick={()=>{ playlistChangeStepOrder({ idx, direction: 'up' }) }} style={{cursor: idx === 0 ? null : 'pointer'}}>\n                                <svg width='18' height='18' style={{ opacity : idx === 0 ? 0 : 1 }}>\n                                  <polygon points='9 0 18 18 0 18' fill='#1f77b4'/>\n                                </svg>\n                              </Grid>\n                              <Grid item onClick={()=>{ playlistChangeStepOrder({ idx, direction: 'down' }) }} style={{cursor: 'pointer'}}>\n                                <svg width='18' height='18' style={{ opacity : idx === playlist.steps.length-1 ? 0 : 1 }}>                           \n                                  <polygon transform='rotate(180 9,9)' points='9 0 18 18 0 18' fill='#1f77b4'/>\n                                </svg>\n                              </Grid>\n                              <Grid item align='right' style={{cursor: 'pointer'}} onClick={()=>{ playlistCopyStep({idx}) }}>\n                                <svg width='18' height='18'>                          \n                                  <line x1='1' y1='9' x2='17' y2='9' stroke='#1f77b4' strokeWidth='4'/>\n                                  <line x1='9' y1='1' x2='9' y2='17' stroke='#1f77b4' strokeWidth='4'/>\n                                </svg>                        \n                              </Grid> \n                              <Grid item align='right' style={{cursor: 'pointer'}} \n                                onClick={()=>{ \n                                  const newIndexes = indexesEditActive\n                                  newIndexes.push(idx)\n                                  setEditActive(Object.assign([], [], newIndexes)) \n                                }}                                \n                              >\n                                <svg width='18' height='18'>                          \n                                  <rect x='2' y='2' width='14' height='14' fill='none' stroke='#1f77b4' strokeWidth='4'/>\n                                  <line x1='19' y1='0' x2='9' y2='9' stroke='white' strokeWidth='7'/>\n                                  <line x1='16' y1='2.5' x2='7' y2='11' stroke='#1f77b4' strokeWidth='4' strokeLinecap='round'/>\n                                </svg>\n                              </Grid> \n                            </> :\n                            <>\n                              <Grid item>\n                                <Button size='small' variant='contained' color='primary'\n                                  onClick={()=>{ \n                                    const newIndexes = indexesEditActive.filter(o=>o!==idx)\n                                    setEditActive(Object.assign([], [], newIndexes)) \n                                  }}                                \n                                >Done</Button>\n                              </Grid>\n                              <Grid item>\n                                <Button size='small'\n                                  onClick={()=>{ \n                                    const newIndexes = indexesEditActive.filter(o=>o!==idx)\n                                    setEditActive(Object.assign([], [], newIndexes)) \n                                  }}                                \n                                >&#10005;</Button>\n                              </Grid>\n                            </>\n                        }\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                )\n              })\n            }\n            <Grid item xs={12} align='center'>\n              <Button size='large' onClick={()=>{ playlistAddStep() }}>ADD SONG</Button>\n            </Grid> \n          </Grid>\n        </Grid>        \n      </Grid>\n      <Grid container item xs={2}>\n        <LoadPatterns mode='playlist'/>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistModeBase)\n\n","import { connect } from 'react-redux'\nimport * as d3 from 'd3'\nimport { Grid } from '@material-ui/core'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentStep: state.currentStep,\n    lightValues: getLightValues(state)\n  }\n}\n\nfunction getLightValues (state) {\n  // console.log(state.config.activeSong.songSteps[state.currentStep].slice(1))\n  switch (state.config.playingMode) {\n    case 'pattern':\n      return state.config.activePattern.channels.slice(1).map((c,i)=>{\n        let a = c.steps.findIndex(o=>Number(o.idx) === state.currentStep)\n        if(a !== -1) {\n          return c.steps[a].value\n        } else {\n          return 0\n        }\n      })    \n    case 'song': \n      return state.config.songData.steps[state.currentStep] !== undefined ? state.config.songData.steps[state.currentStep].slice(1) : []      \n    case 'playlist':\n      return state.config.playlistData.steps[state.currentStep] !== undefined ? state.config.playlistData.steps[state.currentStep].slice(1) : []\n    default:\n      return []\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nconst nTrees = 16\nconst trees = new Array(nTrees).fill(0)\n\nconst width = 1200\nconst height = 80\nconst scaleX = d3.scaleLinear().domain([0,nTrees]).range([0,width])\n\n\nfunction LayoutBase({ currentStep, lightValues }) {\n  return (\n    <Grid container item xs={12} justifyContent='center'>\n      <Grid item xs={12} align='center'>\n        <svg height={height} width={width} style={{ backgroundColor: '#FFF', border: '0px solid #AAA', borderRadius: '60px' }}>\n          <g transform='translate(0 0)'>\n            {\n              trees.map((tree,treeIndex)=>{\n                const x = scaleX(treeIndex) + scaleX(0.5)\n                const y = height * 0.5\n                const active = lightValues[treeIndex] === 1\n\n                // console.log(x,y,treeIndex)\n                return (\n                  <circle key={`tree_${treeIndex}`} cx={x} cy={y} r={33} stroke='#AAA' fill={ active ? '#FFBF00' : '#CCC' }/>\n                )\n              })\n            }\n          </g>\n        </svg>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LayoutBase)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, Paper, Typography } from '@material-ui/core'\nimport ConfigSectionTitle from './ConfigSectionTitle'\nimport { setBootPlaylist, setStartOnBoot } from '../../actions/index'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    bootPlaylistId: state.config.bootBehavior.bootPlaylistId,\n    playlists: state.playlists,\n    startOnBoot: state.config.bootBehavior.startOnBoot,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setBootPlaylist: payload => dispatch(setBootPlaylist(payload)),\n    setStartOnBoot: payload => dispatch(setStartOnBoot(payload))\n  }\n}\n\nconst styles = {\n  // border: '1px solid #DDD',\n  marginBottom: 4,\n  padding: '4px 8px',\n  height: 38\n}\n\nfunction ConfigBoot ({ bootPlaylistId, playlists, setBootPlaylist, setStartOnBoot, startOnBoot }) {\n  return (\n    <Grid container item xs={12} alignItems='flex-start'>\n      <Paper elevation={0} style={{width: '100%', padding: 24, border: '1px solid #CCC'}}>\n        <ConfigSectionTitle title='Boot Behavior'/>        \n        <Grid container item xs={12} justifyContent='space-between' alignItems='center' style={styles}>\n          <Grid item xs={6}>\n            <Typography variant='body1'>Start On Boot</Typography>\n          </Grid>\n          <Grid item xs={3} align='center'>\n            <Button \n              size='small' \n              variant={ startOnBoot ? 'contained' : 'outlined' } \n              color={ startOnBoot ? 'primary' : 'default' } \n              style={{width: '100%'}}\n              onClick={()=>{setStartOnBoot(true)}}\n            >Yes</Button>\n          </Grid>\n          <Grid item xs={3} align='center'>\n            <Button \n              size='small' \n              variant={ startOnBoot ? 'outlined' : 'contained' } \n              color={ startOnBoot ? 'default' : 'primary' } \n              style={{width: '100%'}}\n              onClick={()=>{setStartOnBoot(false)}}\n            >No</Button>\n          </Grid>\n        </Grid>\n        <Grid container item xs={12} justifyContent='space-between' alignItems='center' style={styles}>\n          <Grid item xs={5}>\n            <Typography variant='body1'>Boot Playlist</Typography>\n          </Grid>\n          <Grid item xs={7} align='center'>\n            <select \n              style={{width: '100%', fontSize: 14}}\n              onChange={(event)=>{\n                console.log(event.target.value)\n                setBootPlaylist(event.target.value)\n              }}\n            >\n              {\n                playlists.map((playlist,playlistIdx)=>{\n                  return (\n                    <option key={`boot-behavior-playlist-${playlistIdx}`} selected={bootPlaylistId === playlist.id} value={playlist.id}>{playlist.name}</option>\n                  )\n                })\n              }\n            </select>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigBoot)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, Paper, Typography } from '@material-ui/core'\nimport ConfigSectionTitle from './ConfigSectionTitle'\nimport saveStateToFile from '../../lib/saveStateToFile.js'\nimport validateConfigurationFile from '../../lib/validateConfigurationFile.js'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    state: state\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nfunction ConfigFileIO ({ state }) {\n  return (\n    <Grid container item xs={12} alignItems='flex-start'>\n      <Paper elevation={0} style={{width: '100%', padding: 24, border: '1px solid #CCC'}}>\n        <ConfigSectionTitle title='Backup & Restore'/>\n        <Grid container item xs={12} justifyContent='space-evenly' >\n          <Grid item>\n            <Button variant='contained' color='primary'\n              onClick={()=>{window.socket.emit('SAVE_TO_DISK')}}>Save To Disk</Button>\n          </Grid>\n          <Grid item>\n            <Button variant='outlined'\n              onClick={()=>{window.socket.emit('LOAD_FROM_DISK')}}>Load From Disk</Button>\n          </Grid>\n          <Grid item style={{margin: 12}}>\n            <Button variant='contained' color='primary'\n              onClick={ () => { saveStateToFile(state) } }\n            >Download Configuration</Button>\n          </Grid>\n          <Grid item>      \n            <input \n              disabled\n              accept=\"application/JSON\" \n              // className={classes.input} \n              id=\"contained-button-file\" \n              hidden\n              type=\"file\" \n              onChange={ (event)=>{ \n                console.log(event.target.files) \n                const reader = new FileReader()\n                reader.onload = event => { \n                  // console.log(JSON.parse(event.target.result))                \n                  validateConfigurationFile(event.target.result)  \n                }\n                reader.readAsText(event.target.files[0])\n              } }\n            /> \n            <label htmlFor=\"contained-button-file\"> \n              <Button disabled variant=\"outlined\" component=\"span\"> \n                Upload Configuration\n              </Button> \n            </label> \n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigFileIO)\n\n","import { saveAs } from 'file-saver'\n\nexport default function saveStateToFile (state) {\n  const o = { config: {} }\n\n  o.config.activePatternId = state.config.activePatternId\n  o.config.activePlaylistId = state.config.activePlaylistId\n  o.config.activeSongId = state.config.activeSongId\n  o.config.bootBehavior = state.config.bootBehavior\n  o.config.networkDevices = state.config.networkDevices\n  \n  o.patterns = state.patterns\n  o.playlists = state.playlists\n  o.songs = state.songs\n  o.pins = state.pins\n\n  const b = new Blob([JSON.stringify(o,null,2)], { type: 'text/plain;charset=utf-8' })\n  saveAs(b, 'configuration.json')\n}","export default function validateConfigurationFile (result) {\n\n  let t = null\n\n  try {\n    t = JSON.parse(result)\n  } catch (error) {\n    console.log(error)\n    return\n  }\n\n  const fields = [\n    { key: 'config.activePatternId', type: 'string' },\n    { key: 'config.activePlaylistId', type: 'string' },\n    { key: 'config.activeSongId', type: 'string' },\n    { key: 'config.bootBehavior', type: 'object' },\n    { key: 'config.networkDevices', type: 'object' },\n    { key: 'patterns', type: 'object' },\n    { key: 'playlists', type: 'object' },\n    { key: 'songs', type: 'object' },\n    { key: 'pins', type: 'object' },\n  ]  \n\n  const validated = []\n  fields.forEach(field=>{\n    if(field.key.split('.').length > 1) {\n      const left = field.key.split('.')[0]\n      const right = field.key.split('.')[1]\n      if(typeof(t[left][right]) === field.type) {\n        validated.push({ key: field.key, validated: true })\n      } else {\n        validated.push({ key: field.key, validated: false })\n      }\n    } else {\n      if(typeof(t[field.key]) === field.type) {\n        validated.push({ key: field.key, validated: true })\n      } else {\n        validated.push({ key: field.key, validated: false })\n      }\n    }    \n  })\n\n  console.log(validated)\n  console.log(t)\n  window.socket.emit('LOAD_CONFIGURATION_FROM_JSON', t)\n}","import { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Grid, Paper, TextField, Typography } from '@material-ui/core'\nimport ConfigSectionTitle from './ConfigSectionTitle'\nimport { setNetworkDevicePortMapping, testNetworkDevice } from '../../actions/index'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    devices: state.config.networkDevices\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setNetworkDevicePortMapping: payload => { dispatch(setNetworkDevicePortMapping(payload)) },\n    testNetworkDevice: payload => { dispatch(testNetworkDevice(payload)) }\n  }\n}\n\nfunction ConfigOutboarding ({ devices, setNetworkDevicePortMapping, testNetworkDevice }) {\n  const [ editActive, setEditActive ] = useState({ status: false })\n\n  return (\n    <Grid container item xs={12} style={{marginTop: 24}}>\n      <Paper elevation={0} style={{width: '100%', padding: 24, border: '1px solid #CCC'}}>\n        <ConfigSectionTitle title='Network Devices'/>\n        <Grid container item xs={12} justifyContent='space-between' spacing={2} style={{marginTop: 16}}>\n          {\n            devices.map(device => {\n              return (\n                <Grid item xs={4}>\n                  <Paper elevation={0} style={{\n                      width: '100%', \n                      padding: '24px 0px', \n                      border: '1px solid #CCC'\n                    }}>\n                    <Grid container item xs={12}>\n                      {\n                        [\n                          { name: 'name', value: device.name },\n                          { name: 'mac address', value: device.mac.toUpperCase() },\n                          { name: 'last seen', value: ((Date.now() - device.lastSeen) / 1000).toFixed(0) + 's ago' }\n                        ].map(o=>{\n                          return (\n                            <KeyValuePair {...o}/>\n                          )\n                        })\n                      }                      \n                    </Grid>\n                    <Grid container item xs={12} justify='center' style={{marginTop: 12}}>\n                      <Grid container item xs={12} align='center' spacing={2} justify='center' alignItems='center'>\n                        <Grid item xs={4}>\n                          <Typography variant='body1' style={{fontWeight:700}}>PORT</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                          <Typography variant='body1' style={{fontWeight:700}}>CH</Typography>\n                        </Grid>\n                      </Grid>                      \n                      {\n                        device.mappings.map((ch,idx)=>{\n                          return (\n                            <Grid container item xs={12} align='center' spacing={0} justify='center' alignItems='center'\n                              style={{ marginTop: 2 }}>\n                              <Grid item xs={4}>\n                                <Typography variant='body1'>{idx}</Typography>\n                              </Grid>\n                              <Grid item xs={4}>\n                                {\n                                  editActive.status === false ? \n                                    <Typography variant='body1'>{ch}</Typography>\n                                    :\n                                    <TextField defaultValue={ch} \n                                      onChange={(event)=>{\n                                        console.log('idx', idx, 'value', event.target.value, 'mac', device.mac)\n                                        console.log(device.mappings)\n                                        const mappings = JSON.parse(JSON.stringify(device.mappings))\n                                        mappings[idx] = Number(event.target.value)\n                                        setNetworkDevicePortMapping({ mac: device.mac, mappings })\n                                      }}\n                                      inputProps={{ style: {\n                                        textAlign: 'center', \n                                        height: 8\n                                      }}} \n                                      style={{width: 32}}\n                                    />\n                                }                                \n                              </Grid>\n                            </Grid>\n                          )\n                        })\n                      }\n                    </Grid>\n                    <Grid container item xs={12} justify='center' align='center' style={{marginTop: 18}}>\n                      {\n                        editActive.status === true ? \n                          <>\n                            <Grid item xs={4}>\n                              <Button variant='contained' color='primary' onClick={()=>{setEditActive(Object.assign({}, editActive, { status: false } ))}}>DONE</Button>\n                            </Grid>                                          \n                            <Grid item xs={4}>\n                              <Button variant='text' onClick={()=>{setEditActive(Object.assign({}, editActive, { status: false } ))}}>&#10005;</Button>\n                            </Grid>\n                          </> :\n                          <>\n                            <Grid item xs={4}>\n                              <Button variant='text' onClick={()=>{ testNetworkDevice({ mac: device.mac }) }}>TEST</Button>\n                            </Grid>                                          \n                            <Grid item xs={4}>\n                              <Button variant='outlined' onClick={()=>{setEditActive(Object.assign({}, editActive, { status: true } ))}}>EDIT</Button>\n                            </Grid>\n                          </>\n                      }\n                    </Grid>\n                  </Paper>      \n                </Grid>\n              )\n            })\n          }\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nfunction KeyValuePair (props) {\n  return (\n    <Grid container item xs={12} spacing={2} style={{marginBottom: 0}} alignItems='center'>\n      <Grid item xs={6} align='right'>\n        <Typography variant='body2' style={{fontWeight: 700, textTransform: 'uppercase'}}>{props.name}</Typography>\n      </Grid>\n      <Grid item xs={6} align='left'>\n        <Typography variant='body1'>{props.value}</Typography>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigOutboarding)\n\n","import { connect } from 'react-redux'\nimport { Button, Grid, Paper, TextField, Typography } from '@material-ui/core'\nimport ConfigSectionTitle from './ConfigSectionTitle'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    pins: state.pins\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nfunction ConfigPins ({ pins }) {\n  return (\n    <Grid container item xs={7}>\n      <Paper elevation={0} style={{width: '100%', padding: 24, border: '1px solid #CCC'}}>\n        <ConfigSectionTitle title='Map Channels to Pins'/>\n        <Grid container item xs={12}>\n          {\n            new Array(16).fill(0).map((o,n)=>{\n              return (\n                <Grid key={`pinmapping_${n}`} container item xs={4} align='center' style={{ padding: 4 }}>\n                  <Grid container item xs={12} alignItems='center' justifyContent='space-between' style={{ outline: '1px solid #DDD', padding: '8px 4px' }}>\n                    <Grid item xs={4} align='center' style={{paddingTop: 1}}>\n                      <Typography variant='body2' style={{fontWeight: 700}}>CH {n}</Typography>\n                    </Grid>\n                    <Grid item xs={3}>\n                      <TextField  inputProps={{ style: {textAlign:'center'} }} defaultValue={pins[n]}/>\n                    </Grid>\n                    <Grid item xs={4}>\n                      <Button size='small' variant='contained' style={{width: '100%', maxWidth: '100%'}}>Test</Button>\n                    </Grid>\n                  </Grid>                  \n                </Grid>\n              )\n            })\n          }\n        </Grid>\n        <Grid container item xs={12} spacing={2} justifyContent='flex-end' style={{marginTop: 10}}> \n          <Grid item>\n            <Button size='large' variant='contained' color='primary'>Save</Button>\n          </Grid>\n          <Grid item>\n            <Button size='large' variant='outlined' color='default'>Cancel</Button>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigPins)\n\n","import { connect } from 'react-redux'\nimport { Grid, Typography } from '@material-ui/core'\nimport ConfigBoot from './ConfigBoot'\nimport ConfigFileIO from './ConfigFileIO'\nimport ConfigOutboarding from './ConfigOutboarding'\nimport ConfigPins from './ConfigPins'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {}\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {}\n}\n\nconst sectionStyle = {\n  padding: '24px 8px 24px 8px',\n  border: '1px solid #AAA'\n}\n\nfunction Config ({ }) {\n  return (\n    <Grid container item xs={12} justifyContent='center'>\n      <Grid item xs={12} style={{ marginBottom: 30, paddingLeft: 28 }}>\n        <Typography variant='h4'>Configuration</Typography>\n      </Grid>\n      <Grid container item xs={11} justifyContent='flex-start' spacing={2}>\n        <Grid container item xs={4}>\n          <ConfigFileIO/>\n        </Grid>\n        <Grid container item xs={4}>          \n          <ConfigBoot/>\n        </Grid>\n        {/* <ConfigPins/>       */}\n        <ConfigOutboarding/>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Config)\n\n","import { ThemeProvider } from '@material-ui/core'\nimport { initializeData, setConfig, setNetworkDeviceStats, setStep, setStepTime, setSongs, setPatterns, setPlaylists } from '../actions/index'\nimport { connect } from \"react-redux\"\nimport { Grid, Paper } from '@material-ui/core'\nimport CurrentPattern from './CurrentPattern/CurrentPatternBase'\nimport SongMode from './SongMode/SongModeBase.js'\nimport PlaylistMode from './PlaylistMode/PlaylistModeBase.js'\nimport createTheme from './createTheme.js'\nimport LayoutBase from './Layout/LayoutBase.js'\nimport Config from './Config/ConfigBase.js'\n\nimport { io } from \"socket.io-client\"\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    dataLoaded: state.dataLoaded\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    initializeData: payload => dispatch(initializeData(payload)),\n    setConfig: payload => dispatch(setConfig(payload)),\n    setNetworkDeviceStats: payload => dispatch(setNetworkDeviceStats(payload)),\n    setPatterns: payload => dispatch(setPatterns(payload)),\n    setPlaylists: payload => dispatch(setPlaylists(payload)),\n    setSongs: payload => dispatch(setSongs(payload)),\n    setStep: payload => dispatch(setStep(payload)),\n    setStepTime: payload => dispatch(setStepTime(payload))\n  }\n}\n\nconst sectionStyle = {   \n  backgroundColor: 'white', \n  borderRadius: 0,\n  border: '0.5px solid #DDD',\n  // boxShadow: '0px 0px 2px #AAA',\n  marginBottom: 16, \n  padding: '16px 4px 16px 4px',\n}\n\nconst ConnectedApp = function ({ dataLoaded, initializeData, setPatterns, setConfig, setNetworkDeviceStats, setSongs, setPlaylists, setStep, setStepTime }) {\n\n  if(window.socket === undefined) {\n    window.socket = io.connect()\n    window.socket.on('connect', () => {\n      console.log('connect')\n    })\n    window.socket.onAny((name, value)=>{      \n      // console.log('event:', name, 'value:', value)\n      switch(name) {\n        case 'config':\n          return setConfig({ value })\n        case 'network-device-stats':\n          return setNetworkDeviceStats({ value })\n        case 'patterns':\n          return setPatterns({ value })\n        case 'playlists':\n          return setPlaylists({ value })  \n        case 'set-step':\n          return setStep({ value: value.value })\n        case 'set-step-time':\n          return setStepTime({ value: value.value })    \n        case 'songs':\n          return setSongs({ value })  \n        case 'state-machine':\n          return initializeData({ value })        \n        default:\n          return {}\n      }\n    })\n    console.log(window.socket)\n\n    setInterval(()=>{\n      window.socket.emit('heartbeat')\n    },500)\n\n    // console.log = ()=>{}\n  }\n\n  return (\n    <ThemeProvider theme={createTheme()}>\n      <div style={{ margin: 'auto', marginBottom: 256, marginTop: 12, width: 1280, outline: '0px solid #FFF' }}>\n        {\n          dataLoaded ? \n          <Grid container justifyContent='center'>\n            <Grid container item xs={12}>\n              <Grid item xs={12}>\n                <Paper square elevation={0} style={sectionStyle}>              \n                  <Config/>\n                </Paper>\n              </Grid>    \n              <Grid item xs={12} style={{position: 'sticky', top: 0, left: 0, zIndex: 2, marginBottom: 2}}>        \n                <Paper square elevation={0} style={sectionStyle}>\n                  <LayoutBase/>\n                </Paper>\n              </Grid>\n              <Grid item xs={12}>\n                <Paper square elevation={0} style={sectionStyle}>                             \n                  <CurrentPattern/>    \n                </Paper>           \n              </Grid>   \n              <Grid item xs={12}>\n                <Paper square elevation={0} style={sectionStyle}>              \n                  <SongMode/>\n                </Paper>\n              </Grid>\n              <Grid item xs={12}>\n                <Paper square elevation={0} style={sectionStyle}>              \n                  <PlaylistMode/>\n                </Paper>           \n              </Grid> \n            </Grid>\n          </Grid>\n          : null\n        }      \n      </div>\n    </ThemeProvider>\n  )\n}\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp)\n\nexport default App","import { createTheme as materialTheme } from '@material-ui/core/styles';\nimport green from '@material-ui/core/colors/green';\n\nexport default function createTheme () {\n  return materialTheme({\n    palette: {\n      primary: {\n        // main: '#4682B4',\n        main: '#1f77b4'\n      },\n      secondary: {\n        main: green[500],\n      },\n    },\n    typography: {\n      body1: {\n        fontSize: '14px'\n      },\n      body2: {\n        fontSize: '12px'\n      },\n      h4: {\n        fontWeight: 300\n      },\n      h6: {\n        fontWeight: 300\n      }\n    },\n    overrides: {\n      MuiButton: {\n        root: {\n          borderRadius: '1px',\n          boxShadow: 'none'\n        },\n        label: {\n          fontWeight: '700',\n          position: 'relative',\n          top: '.5px'\n        }\n      }\n    },\n    props: {\n      MuiButtonBase: {\n        disableRipple: true,\n        \n      },\n      MuiButton: {\n        disableElevation: true\n      }\n    }\n  })\n}","import './App.css';\nimport { Provider } from \"react-redux\"\nimport store from \"./js/store/index\"\nimport BaseApp from './js/components/App'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <BaseApp/>\n    </Provider>  \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />,\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}